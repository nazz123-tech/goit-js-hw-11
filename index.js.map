{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nexport async function getImagesByQuery(query) {\n    const baseURL = 'https://pixabay.com/api/';\n\n    const params = {\n        key: '53454682-c39aa10f124dd5ded9ba537e3',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    };\n\n    const response = await axios.get(baseURL,{params});\n    return response.data;\n}\n\n","import { refs } from \"../main\";\n\n// Template for a single image\nexport function imageTemplate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads\n}) {\n  return `\n<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n      loading=\"lazy\"\n    />\n  </a>\n\n  <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b> ${likes}</p>\n    <p class=\"info-item\"><b>Views</b> ${views}</p>\n    <p class=\"info-item\"><b>Comments</b> ${comments}</p>\n    <p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n  </div>\n</li>`;\n}\n\n// Creates full HTML for array of images\nexport function createImages(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\n// Clears gallery before new search\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\n// Shows loader\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\n// Hides loader\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  imageTemplate,\n  createImages,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('input'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Lightbox instance\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250\n});\n\nrefs.form.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const query = refs.input.value.trim();\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search query!'\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n \n    const data = await getImagesByQuery(query);\n\n    if (!data.hits || data.hits.length === 0) {\n      hideLoader();\n      iziToast.warning({\n        message: 'Sorry, there are no images matching your search query. Please try again!'\n      });\n      return;\n    }\n\n    const markup = createImages(data.hits);\n    refs.gallery.innerHTML = markup;\n\n    hideLoader();\n\n    lightbox.refresh(); // update SimpleLightbox\n\n   \n});"],"names":["getImagesByQuery","query","baseURL","params","axios","imageTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","createImages","arr","clearGallery","refs","showLoader","hideLoader","lightbox","SimpleLightbox","e","iziToast","data","markup"],"mappings":"owBACO,eAAeA,EAAiBC,EAAO,CAC1C,MAAMC,EAAU,2BAEVC,EAAS,CACX,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAGI,OADiB,MAAMG,EAAM,IAAIF,EAAQ,CAAC,OAAAC,CAAM,CAAC,GACjC,IACpB,CCXO,SAASE,EAAc,CAC5B,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,kCAEyBN,CAAa;AAAA;AAAA;AAAA,aAGlCC,CAAY;AAAA,aACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMuBC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA,MAGrD,CAGO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACvC,CAGO,SAASU,GAAe,CAC7BC,EAAK,QAAQ,UAAY,EAC3B,CAGO,SAASC,GAAa,CAC3BD,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAGO,SAASE,GAAa,CAC3BF,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CCzCO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,OAAO,EACrC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EASA,IAAIG,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,KAAK,iBAAiB,SAAU,MAAMK,GAAK,CAC9CA,EAAE,eAAc,EAEhB,MAAMpB,EAAQe,EAAK,MAAM,MAAM,KAAI,EACnC,GAAI,CAACf,EAAO,CACVqB,EAAS,QAAQ,CACf,QAAS,8BACf,CAAK,EACD,MACD,CAEDP,IACAE,IAGE,MAAMM,EAAO,MAAMvB,EAAiBC,CAAK,EAEzC,GAAI,CAACsB,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCL,IACAI,EAAS,QAAQ,CACf,QAAS,0EACjB,CAAO,EACD,MACD,CAED,MAAME,EAASX,EAAaU,EAAK,IAAI,EACrCP,EAAK,QAAQ,UAAYQ,EAEzBN,IAEAC,EAAS,QAAO,CAGpB,CAAC"}