{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nexport async function getImagesByQuery(query) {\n    const baseURL = 'https://pixabay.com/api/';\n\n    const params = {\n        key: '53454682-c39aa10f124dd5ded9ba537e3',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    };\n\n    const response = await axios.get(baseURL,{params});\n    return response.data;\n}\n\n","import { refs } from \"../main\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nlet lightbox = null;\n\n\nexport function imageTemplate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  </a>\n  <div class=\"info\">\n    <p><b>Likes:</b> ${likes}</p>\n    <p><b>Views:</b> ${views}</p>\n    <p><b>Comments:</b> ${comments}</p>\n    <p><b>Downloads:</b> ${downloads}</p>\n  </div>\n</li>`;\n}\n\n\nexport function createImages(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\n\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport function renderGallery(images, { append = false } = {}) {\n  const markup = createImages(images);\n\n  if (append) {\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n  } else {\n    refs.gallery.innerHTML = markup;\n  }\n\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  clearGallery,\n  renderGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nexport const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('input'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const query = refs.input.value.trim();\n\n  if (!query) {\n    iziToast.warning({ message: 'Enter a search query!' });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const data = await getImagesByQuery(query);\n\n    if (!data.hits.length) {\n      hideLoader();\n      iziToast.error({ message: 'No images found!' });\n      return;\n    }\n\n    renderGallery(data.hits);\n\n  } catch (err) {\n    iziToast.error({ message: 'Something went wrong' });\n  }\n\n  hideLoader();\n});"],"names":["getImagesByQuery","query","baseURL","params","axios","lightbox","imageTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","createImages","arr","clearGallery","refs","renderGallery","images","append","markup","SimpleLightbox","showLoader","hideLoader","e","iziToast","data"],"mappings":"owBACO,eAAeA,EAAiBC,EAAO,CAC1C,MAAMC,EAAU,2BAEVC,EAAS,CACX,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAGI,OADiB,MAAMG,EAAM,IAAIF,EAAQ,CAAC,OAAAC,CAAM,CAAC,GACjC,IACpB,CCRA,IAAIE,EAAW,KAGR,SAASC,EAAc,CAC5B,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,kCAEyBN,CAAa;AAAA,sCACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,uBAGzCC,CAAK;AAAA,uBACLC,CAAK;AAAA,0BACFC,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA,MAGpC,CAGO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACvC,CAGO,SAASU,GAAe,CAC7BC,EAAK,QAAQ,UAAY,EAC3B,CAEO,SAASC,EAAcC,EAAQ,CAAE,OAAAC,EAAS,EAAK,EAAK,CAAA,EAAI,CAC7D,MAAMC,EAASP,EAAaK,CAAM,EAE9BC,EACFH,EAAK,QAAQ,mBAAmB,YAAaI,CAAM,EAEnDJ,EAAK,QAAQ,UAAYI,EAItBhB,IACHA,EAAW,IAAIiB,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,GAGHjB,EAAS,QAAO,CAClB,CAEO,SAASkB,GAAa,CAC3BN,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASO,GAAa,CAC3BP,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CC1DO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,OAAO,EACrC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAU,MAAMQ,GAAK,CAC9CA,EAAE,eAAc,EAEhB,MAAMxB,EAAQgB,EAAK,MAAM,MAAM,KAAI,EAEnC,GAAI,CAAChB,EAAO,CACVyB,EAAS,QAAQ,CAAE,QAAS,uBAAyB,CAAA,EACrD,MACD,CAEDV,IACAO,IAEA,GAAI,CACF,MAAMI,EAAO,MAAM3B,EAAiBC,CAAK,EAEzC,GAAI,CAAC0B,EAAK,KAAK,OAAQ,CACrBH,IACAE,EAAS,MAAM,CAAE,QAAS,kBAAoB,CAAA,EAC9C,MACD,CAEDR,EAAcS,EAAK,IAAI,CAExB,MAAa,CACZD,EAAS,MAAM,CAAE,QAAS,sBAAwB,CAAA,CACnD,CAEDF,GACF,CAAC"}